get:
  operationId: getCompanies
  tags:
    - Companies
  summary: Companies
  description: |
    Get a paginated list of companies with optional filtering.
    
    For detailed information about the filtering system and available operators, 
    refer to the [Filter System Documentation](/filters).

    ## Available Filters
    ### String Filters
    - `business_name`: Company name
    - `business_type`: Type of business
    - `business_city`: City
    - `business_state`: State
    - `business_country`: Country
    - `business_zip`: ZIP/Postal code
    - `phone`: Phone number
    - `q`: General search matches business_name
    - `fein`: Federal Employer Identification Number
    
    ### Boolean Filters
    - `tax_exempt`: Whether the company is tax exempt
    
    ### Float Filters
    - `tax_rate`: Company's tax rate
    
    ### Integer Filters
    - `business_type_id`: Business type ID
    - `default_price_level_id`: Default price level ID
    
    ### DateTime Filters
    - `created_at`: When the company was created
    - `updated_at`: When the company was last updated
    
    ## Examples
    ```
    # Find companies by name
    ?business_name[eq]=Acme Corp

    # Find companies in a specific state
    ?business_state[eq]=CA

    # Search companies by name
    ?q=Acme

    # Find tax exempt companies
    ?tax_exempt[eq]=true

    # Find companies by business type
    ?business_type[eq]=Manufacturer
    ```
  parameters:
    - $ref: './components/parameters/page.yaml'
    - $ref: './components/parameters/limit.yaml'
    - in: query
      name: q
      schema:
        type: string
      description: Filter by business name
    - in: query
      name: business_name
      schema:
        type: string
      description: Filter by company name
    - in: query
      name: business_type
      schema:
        type: string
      description: Filter by business type
    - in: query
      name: business_type_id
      schema:
        type: integer
      description: Filter by business type ID
    - in: query
      name: business_city
      schema:
        type: string
      description: Filter by city
    - in: query
      name: business_state
      schema:
        type: string
      description: Filter by state
    - in: query
      name: business_country
      schema:
        type: string
      description: Filter by country
    - in: query
      name: business_zip
      schema:
        type: string
      description: Filter by ZIP/Postal code
    - in: query
      name: phone
      schema:
        type: string
      description: Filter by phone number
    - in: query
      name: fein
      schema:
        type: string
      description: Filter by FEIN
    - in: query
      name: tax_exempt
      schema:
        type: boolean
      description: Filter by tax exempt status
    - in: query
      name: tax_rate
      schema:
        type: number
        format: float
      description: Filter by tax rate
    - in: query
      name: default_price_level_id
      schema:
        type: integer
      description: Filter by default price level ID
    - in: query
      name: created_at
      schema:
        type: string
        format: date-time
      description: Filter by creation date
    - in: query
      name: updated_at
      schema:
        type: string
        format: date-time
      description: Filter by last update date
    
  responses:
    '200':
      description: A list of companies
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                items:
                  $ref: './components/schemas/company.yaml'
              meta:
                $ref: './components/schemas/pagination.yaml'
    '401':
      $ref: './components/responses/unauthorized.yaml'
    '403':
      $ref: './components/responses/forbidden.yaml' 
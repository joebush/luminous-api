get:
  operationId: getPurchaseOrderItems
  tags:
    - Purchase Orders
  summary: Purchase order items
  description: |
    Get a paginated list of purchase order items with optional filtering.
    
    For detailed information about the filtering system and available operators, 
    refer to the [Filter System Documentation](/filters).

    ### Available Filters

    #### Integer Filters
    - `purchase_order_id`: Filter by purchase order ID
    
    #### String Filters
    - `source_sku`: Source SKU on the purchase order item
    
    #### Float Filters
    - `quantity`: Ordered quantity
    - `received_quantity`: Quantity received
    - `unit_price`: Unit price of the item
    
    #### Boolean Filters
    - `on_shipment`: Whether the item is on a shipment (true) or not (false)
    
    #### DateTime Filters
    - `created_at`: When the purchase order item was created
    - `updated_at`: When the purchase order item was last updated
    
    ### Product Filters
    
    All product filters are available with the `product.` prefix. These filter based on the product associated with the purchase order item.
    
    #### String Filters
    - `product.name`: Product name
    - `product.description`: Product description
    - `product.sku`: Product SKU (searches both internal SKU and alternate SKUs)
    - `product.upc`: Product UPC/Barcode
    - `product.tag`: Product tags
    - `product.q`: General search matches name OR upc OR sku
    - `product.category.name`: Filter by category name
    - `product.sub_category.name`: Filter by sub-category name
    - `product.supplier.name`: Filter by supplier name
    
    #### Integer Filters
    - `product.id`: Product ID
    - `product.category.id`: Filter by category ID
    - `product.sub_category.id`: Filter by sub-category ID
    - `product.supplier.id`: Filter by supplier ID
    
    #### Float Filters
    - `product.retail_price`: Product retail price
    - `product.wholesale_price`: Product wholesale price
    
    #### Boolean Filters
    - `product.sellable`: If the product is sellable or not
    - `product.discontinued`: If the product is discontinued
    
    #### DateTime Filters
    - `product.created_at`: When the product was created
    - `product.updated_at`: When the product was last updated
    
    ## Examples
    ```
    # Get all items for a specific purchase order
    ?purchase_order_id[eq]=123
    
    # Find items with a specific source SKU
    ?source_sku[eq]=VENDOR-SKU-001
    
    # Find items with quantity greater than 100
    ?quantity[gt]=100
    
    # Find items that have been partially received
    ?received_quantity[gt]=0&quantity[gt]=received_quantity
    
    # Find items that are on a shipment
    ?on_shipment[eq]=1
    
    # Find items where the associated product is discontinued
    ?product.discontinued[eq]=1
    
    # Find items by product category
    ?product.category.name[eq]=Electronics
    
    # Find items with products from a specific supplier
    ?product.supplier.name[contains]=Acme
    
    # Find items with unit price in a specific range
    ?unit_price[gte]=10.00&unit_price[lte]=50.00
    
    # Find recently updated items
    ?updated_at[gte]=2024-01-01 00:00:00
    
    # Combine multiple filters: items for a purchase order with products in a category
    ?purchase_order_id[eq]=123&product.category.name[eq]=Electronics
    
    # Find items for products with a specific SKU
    ?product.sku[eq]=PROD-SKU-001
    ```
  security:
    - BearerAuth: []
  parameters:
    - in: query
      name: page
      schema:
        type: integer
        default: 1
      description: Page number for pagination
    - in: query
      name: per_page
      schema:
        type: integer
        default: 10
        maximum: 100
      description: Number of items per page (max 100)
    - in: query
      name: purchase_order_id
      schema:
        type: integer
      description: Filter by purchase order ID
    - in: query
      name: source_sku
      schema:
        type: string
      description: Filter by source SKU
    - in: query
      name: quantity
      schema:
        type: number
        format: float
      description: Filter by ordered quantity
    - in: query
      name: received_quantity
      schema:
        type: number
        format: float
      description: Filter by received quantity
    - in: query
      name: unit_price
      schema:
        type: number
        format: float
      description: Filter by unit price
    - in: query
      name: on_shipment
      schema:
        type: boolean
      description: Filter by whether the item is on a shipment
    - in: query
      name: created_at
      schema:
        type: string
        format: date-time
      description: Filter by creation date
    - in: query
      name: updated_at
      schema:
        type: string
        format: date-time
      description: Filter by last update date
    - in: query
      name: product.id
      schema:
        type: integer
      description: Filter by product ID
    - in: query
      name: product.name
      schema:
        type: string
      description: Filter by product name
    - in: query
      name: product.description
      schema:
        type: string
      description: Filter by product description
    - in: query
      name: product.sku
      schema:
        type: string
      description: Filter by product SKU (searches both internal and alternate SKUs)
    - in: query
      name: product.upc
      schema:
        type: string
      description: Filter by product UPC/Barcode
    - in: query
      name: product.sellable
      schema:
        type: boolean
      description: Filter by product sellable status
    - in: query
      name: product.discontinued
      schema:
        type: boolean
      description: Filter by whether the product is discontinued
    - in: query
      name: product.retail_price
      schema:
        type: number
        format: float
      description: Filter by product retail price
    - in: query
      name: product.wholesale_price
      schema:
        type: number
        format: float
      description: Filter by product wholesale price
    - in: query
      name: product.tag
      schema:
        type: string
      description: Filter by product tags
    - in: query
      name: product.category.id
      schema:
        type: integer
      description: Filter by product category ID
    - in: query
      name: product.category.name
      schema:
        type: string
      description: Filter by product category name
    - in: query
      name: product.sub_category.id
      schema:
        type: integer
      description: Filter by product sub-category ID
    - in: query
      name: product.sub_category.name
      schema:
        type: string
      description: Filter by product sub-category name
    - in: query
      name: product.supplier.id
      schema:
        type: integer
      description: Filter by product supplier ID
    - in: query
      name: product.supplier.name
      schema:
        type: string
      description: Filter by product supplier name
    - in: query
      name: product.q
      schema:
        type: string
      description: General product search (matches name OR upc OR sku)
  responses:
    '200':
      description: Successful response
      content:
        application/json:
          schema:
            type: object
            properties:
              data:
                type: array
                items:
                  $ref: './components/purchase-order-item.yaml'
              meta:
                $ref: './components/pagination-meta.yaml'
    '401':
      description: Unauthorized
      content:
        application/json:
          schema:
            $ref: './components/error.yaml'

